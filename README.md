# ç›˜ç‚¹ Next.js `Server Actions` çš„ç©æ³•

```shell

â”œâ”€â”€ å¼•è¨€
â”‚   â”œâ”€â”€ ä»‹ç» Server Actions çš„æ¦‚å¿µå’Œé‡è¦æ€§
â”‚   â””â”€â”€ æ¦‚è¿°æœ¬æ–‡å°†æ¢è®¨çš„å‡ ç§ç”¨æ³•
â”œâ”€â”€ Server Actions çš„åŸºæœ¬æ¦‚å¿µ
â”‚   â”œâ”€â”€ ä»€ä¹ˆæ˜¯ Server Actionsï¼Ÿ
â”‚   â”œâ”€â”€ Server Actions ä¸ä¼ ç»Ÿ API çš„åŒºåˆ«
â”‚   â””â”€â”€ Server Actions çš„ä¼˜åŠ¿å’Œé€‚ç”¨åœºæ™¯
â”œâ”€â”€ Server Actions çš„å¤šç§ç”¨æ³•
â”‚   â”œâ”€â”€ åœ¨ React Server Component ä¸­ä½¿ç”¨ Form è¡¨å•å†…åµŒä½¿ç”¨
â”‚   â”‚   â”œâ”€â”€ åœºæ™¯æè¿°
â”‚   â”‚   â””â”€â”€ ä½¿ç”¨ Server Actions å¤„ç†è¡¨å•æäº¤
â”‚   â”œâ”€â”€ åœ¨ RSC ä¸­ï¼Œä½¿ç”¨å…¶ä»–å®¢æˆ·ç«¯ç»„ä»¶è§¦å‘ Server Action
â”‚   â”‚   â”œâ”€â”€ åœºæ™¯æè¿°
â”‚   â”‚   â””â”€â”€ é€šè¿‡æŒ‰é’®ç‚¹å‡»è§¦å‘ Server Action
â”‚   â”œâ”€â”€ åœ¨å®¢æˆ·ç«¯ç»„ä»¶ä¸­ä½¿ç”¨ Stateless Form (æ— çŠ¶æ€è¡¨å•)
â”‚   â”‚   â”œâ”€â”€ åœºæ™¯æè¿°
â”‚   â”‚   â””â”€â”€ ä½¿ç”¨ `action.ts` æ–‡ä»¶å®šä¹‰ Server Action
â”‚   â”œâ”€â”€ åœ¨å®¢æˆ·ç«¯ç»„ä»¶ä¸­ä½¿ç”¨ Stateful Form (æœ‰çŠ¶æ€è¡¨å•)
â”‚   â”‚   â”œâ”€â”€ åœºæ™¯æè¿°
â”‚   â”‚   â””â”€â”€ ä½¿ç”¨ `useActionState` ç®¡ç† Server Action çš„çŠ¶æ€
â”‚   â”œâ”€â”€ å’Œå…¶ä»–ç¬¬ä¸‰æ–¹è¯·æ±‚åº“é…å¥—ä½¿ç”¨ï¼Œæ¯”å¦‚ `ahooks/useRequest`
â”‚   â”‚   â”œâ”€â”€ åœºæ™¯æè¿°
â”‚   â”‚   â””â”€â”€ ç»“åˆ `useRequest` å¤„ç†æ•°æ®è·å–å’ŒçŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ ğŸ§ªè¯•éªŒï¼šæˆ‘ä»¬è¿˜éœ€è¦ API Router å—ï¼Ÿ
â”‚       â”œâ”€â”€ åœºæ™¯æè¿°
â”‚       â””â”€â”€ æ¢è®¨ Server Actions æ˜¯å¦å¯ä»¥æ›¿ä»£ä¼ ç»Ÿçš„ API Router
â””â”€â”€ æ€»ç»“
    â”œâ”€â”€ å›é¡¾ Server Actions çš„å‡ ç§ç”¨æ³•
    â”œâ”€â”€ æ€»ç»“ Server Actions çš„ä¼˜åŠ¿å’Œé€‚ç”¨åœºæ™¯
    â””â”€â”€ å±•æœ› Server Actions çš„æœªæ¥å‘å±•
```

## å¼•è¨€

### ä»‹ç» Server Actions çš„æ¦‚å¿µå’Œé‡è¦æ€§

Server Actions æ˜¯ Next.js å®˜æ–¹æ¨å‡ºçš„ä¸€ç§æ–°ç‰¹æ€§ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨ React Server Component (RSC) ä¸­å®šä¹‰å’Œæ‰§è¡ŒæœåŠ¡å™¨ç«¯çš„æ“ä½œï¼Œè€Œä¸éœ€è¦ç¼–å†™é¢å¤–çš„ä»£ç ã€‚

### 1. åœ¨ React Server Component ä¸­ä½¿ç”¨

#### 1.1 ä½¿ç”¨ Form è¡¨å•å†…åµŒä½¿ç”¨

#### 1.2 å°è£…`SubmitButton`ç»„ä»¶ï¼Œè¿½è¸ªè¡¨å•çš„æäº¤çŠ¶æ€

#### 1.3 ç›´æ¥ä½¿ç”¨ Button æŒ‰é’®è§¦å‘ Server Action
